# Лабораторная работа: Реализация булевых векторов и матриц в C++

## Цель работы
1. Реализовать классы для работы с булевыми векторами и матрицами
2. Поддержать основные битовые операции:
   - Установка/сброс битов
   - Логические операции (И, ИЛИ, НЕ)
   - Сравнение векторов
3. Реализовать алгоритм топологической сортировки для ориентированного графа

## Описание классов

### Класс BoolV (Булев вектор)
```cpp
class BoolV {
    unsigned int* v;         // Массив для хранения битов
    int count_bit;           // Количество бит в векторе
    int count_elemet;        // Количество элементов массива v
public:
    // Конструкторы и деструктор
    BoolV(int count_bit_n = 1);
    BoolV(const char* strV);
    BoolV(const BoolV& Vec);
    ~BoolV();
    
    // Основные методы
    void Set1(int bit);      // Установка бита в 1
    void Set0(int bit);      // Установка бита в 0
    int operator[](int bit); // Доступ к биту по индексу
    
    // Перегруженные операторы
    BoolV operator=(const BoolV& Vec);
    bool operator==(const BoolV& Vec);
    BoolV operator|(const BoolV& Vec); // ИЛИ
    BoolV operator&(const BoolV& Vec); // И
    BoolV operator~();                 // НЕ
    
    // Дружественные функции ввода/вывода
    friend ostream& operator<<(ostream& r, const BoolV& Vec);
    friend istream& operator>>(istream& r, BoolV& Vec);
};
```

### Класс BoolM (Булева матрица)
```cpp
class BoolM {
    BoolV* bm;  // Массив булевых векторов (строк матрицы)
    int m, n;   // Размеры матрицы (строки, столбцы)
public:
    BoolM(int k = 1, int l = 1);
    BoolM(const BoolM& M);
    BoolV& operator[](int l); // Доступ к строке матрицы
    BoolM operator=(const BoolM& M);
    friend ostream& operator<<(ostream& r, BoolM& M);
};
```

## Основные функции

### Алгоритм топологической сортировки
```cpp
void topsort(BoolM& M, int m, int* a) {
    // Инициализация рабочих векторов
    BoolV v0(m), v1(m), v2(m), null(m);
    
    // Основной цикл алгоритма
    while (...) {
        v1 = null;
        for (int i = 0; i < m; i++) {
            v1 = v1 | tmp[i];  // Накопление ИЛИ всех строк
        }
        
        v2 = (~v1) & (~v0);   // Нахождение вершин без входящих дуг
        // Добавление вершин в результат и обновление матрицы
        // ...
    }
}
```

## Примеры использования

### Работа с булевыми векторами
```cpp
BoolV a(33), b("101010"), c("010101");
b.Set1(3);          // Установка 3-го бита в 1
cout << b[3];       // Проверка значения бита
BoolV d = b & c;    // Логическое И
```

### Работа с матрицами
```cpp
BoolM M(5, 5);      // Создание матрицы 5x5
M[1].Set1(2);       // Установка элемента (1,2) в 1
cout << M;          // Вывод матрицы
```

### Топологическая сортировка
```cpp
BoolM graph(size, size);  // Матрица смежности графа
int* order = new int[size];
topsort(graph, size, order);  // Выполнение сортировки
```

## Особенности реализации
1. Эффективное хранение битов (по 32 в одном unsigned int)
2. Поддержка инициализации из строки битов
3. Проверка границ при доступе к битам
4. Оптимизированные битовые операции
5. Обнаружение циклов в графе при топологической сортировке

## Ограничения
1. Максимальный размер вектора/матрицы ограничен доступной памятью
2. Ввод/вывод поддерживает только бинарный формат (0/1)
3. Топологическая сортировка работает только для ациклических графов

## Инструкция по сборке
```bash
g++ bool_vector.cpp -o bool_vector
./bool_vector
```