# Лабораторная работа: Проверка магического квадрата

## Цель работы
1. Реализовать программу для проверки, является ли матрица магическим квадратом
2. Изучить работу с двумерными массивами в C#
3. Освоить обработку пользовательского ввода
4. Разработать алгоритмы проверки свойств матрицы

## Описание программы

### Основные функции

#### `GenerateMatrix(int size_matrix)`
- Генерирует случайную квадратную матрицу заданного размера
- Заполняет элементы случайными числами от 0 до 49
- Возвращает созданную матрицу

#### `InputMatrix(int size_matrix)`
- Позволяет пользователю ввести матрицу вручную
- Обеспечивает проверку корректности ввода для каждого элемента
- Возвращает введенную матрицу

#### `CheckIsMagicSquare(int[,] matrix)`
- Проверяет, является ли матрица магическим квадратом
- Вычисляет контрольную сумму (сумму первой строки)
- Проверяет суммы:
  - Всех строк
  - Всех столбцов
  - Главной и побочной диагоналей
- Возвращает true, если все суммы равны контрольной

### Особенности реализации

1. **Ввод размера матрицы**:
   - Проверка корректности ввода (целое положительное число)
   - Защита от переполнения памяти

2. **Обработка ошибок**:
   - Перехват исключения OutOfMemoryException
   - Проверка ввода для каждого элемента матрицы

3. **Алгоритм проверки**:
   - Оптимизированный расчет сумм
   - Ранний выход при обнаружении несоответствия

4. **Вывод результатов**:
   - Отображение сгенерированной матрицы
   - Четкие сообщения о результате проверки

## Пример использования

1. Программа запрашивает размер матрицы
2. Создает и выводит случайную матрицу
3. Проверяет, является ли она магическим квадратом
4. Предлагает ввести матрицу вручную
5. Проверяет введенную матрицу

## Инструкция по использованию

1. Запустите программу
2. Введите размер квадратной матрицы (положительное целое число)
3. Программа сгенерирует и проверит случайную матрицу
4. Затем введите элементы матрицы по запросу
5. Программа проверит введенную матрицу